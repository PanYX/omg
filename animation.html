<!DOCTYPE html>
<html>
<head>
	<title>test html</title>
	<style>
		html, body {
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
		}
		#canvas {
			margin: 0;
			background-color: #fff;
		}

	</style>
</head>
<body>
<div id="fps"></div>
<div class="container">
		<canvas id="canvas"></canvas>
</div>
<script src="./omg.min.js"></script>
<script>
	var world = omg({
		element: document.getElementById('canvas'),
		width: document.body.clientWidth,
		height: document.body.clientHeight,
		enableGlobalTranslate: false
	});

	var moving = false;

	var rect2 = world.rectangle({
		x: 200,
		y: 200,
		width: 100,
		height: 100,
		zindex: 2,
		color: 'black'
	}).on('mouseenter', function(cur) {
		var from = {};
		var to = {};
		if(moving) {
			return;
		}

		if(cur.x === 800) {
			from = {
				x: 800,
				y: 200,
				width: 200,
				height: 200
			};
			to = {
				x: 200,
				y: 200,
				width: 100,
				height: 100
			};
		} else {
			to = {
				x: 800,
				y: 200,
				width: 200,
				height: 200
			};
			from = {
				x: 200,
				y: 200,
				width: 100,
				height: 100
			};
		}
		// 测试代码，应该要封装到omg中
		world.element.style.cursor = 'pointer';
		var tween = new world.Tween({
			from: from,
			to: to,
			duration: 300,
			easing: 'bounceOut',
			onUpdate: function(keys) {
				moving = true;
				cur.x = keys.x;
				cur.y = keys.y;
				cur.width = keys.width;
				cur.height = keys.height;
				world.redraw();
			},
			onFinish: function(keys) {
				moving = false;
			}
		});

		var tick = function() {
			tween.update();
			requestAnimationFrame(tick);
		};
		tick();

	});

	world.addChild([rect2]);

	world.show();

</script>
</body>
</html>